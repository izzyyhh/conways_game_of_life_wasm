<html>
  <head>
    <title>Game of Life</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  </head>
  <body>
    <canvas id="game" width="400" height="400"></canvas>
    <script type="module">
      import init, { life } from "./pkg/conways_game_of_life_wasm.js";

      async function runIterationsWithDelay(iteration) {
        for (let i = 0; i < iteration; i++) {
          life(i + 1);
          await new Promise((resolve) => setTimeout(resolve, 150));
        }
      }

      async function run() {
        await init();
        runIterationsWithDelay(15);
      }
      run();
    </script>
  </body>
</html>
